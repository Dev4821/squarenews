{"ast":null,"code":"import _regeneratorRuntime from\"C:/squareboat/SquareNews/square-news/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/squareboat/SquareNews/square-news/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/squareboat/SquareNews/square-news/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Spinner from'./Spin';import NewsComponent from'./NewsComponent';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var News=function News(props){var capitalizeFirstLetter=function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1);};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setArticles=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),totalResults=_useState6[0],setTotalResults=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var updateNews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:props.setProgress(10);url=\"https://newsapi.org/v2/top-headlines?country=\".concat(props.country,\"&category=\").concat(props.category,\"&apiKey=0516ff4fe6e44803b32e7e321ccfd96f&page=1&pageSize=\").concat(props.size);setLoading(true);props.setProgress(30);_context.next=6;return fetch(url);case 6:data=_context.sent;setLoading(false);_context.next=10;return data.json();case 10:parsedData=_context.sent;props.setProgress(70);setArticles(parsedData.articles);setTotalResults(parsedData.totalResults);props.setProgress(100);case 15:case\"end\":return _context.stop();}},_callee);}));return function updateNews(){return _ref.apply(this,arguments);};}();useEffect(function(){document.title=\"\".concat(capitalizeFirstLetter(props.category),\" - Square News\");updateNews();// eslint-disable-next-line\n},[]);var previousClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(props.country,\"&category=\").concat(props.category,\"&apiKey=0516ff4fe6e44803b32e7e321ccfd96f&page=\").concat(page+1,\"&pageSize=\").concat(props.size);setLoading(true);_context2.next=4;return fetch(url);case 4:data=_context2.sent;setLoading(false);_context2.next=8;return data.json();case 8:parsedData=_context2.sent;setArticles(parsedData.articles);setPage(page-1);case 11:case\"end\":return _context2.stop();}},_callee2);}));return function previousClick(){return _ref2.apply(this,arguments);};}();var nextClick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(page+1>Math.ceil(totalResults/props.size)){_context3.next=12;break;}url=\"https://newsapi.org/v2/top-headlines?country=\".concat(props.country,\"&category=\").concat(props.category,\"&apiKey=0516ff4fe6e44803b32e7e321ccfd96f&page=\").concat(page+1,\"&pageSize=\").concat(props.size);setLoading(true);_context3.next=5;return fetch(url);case 5:data=_context3.sent;setLoading(false);_context3.next=9;return data.json();case 9:parsedData=_context3.sent;setArticles(parsedData.articles);setPage(page+1);case 12:case\"end\":return _context3.stop();}},_callee3);}));return function nextClick(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-2\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-center \",style:{color:\"rgb(16,13,57)\",textShadow:\"2px 2px 5px rgb(0,0,50)\"},children:[props.category!==\"general\"&&capitalizeFirstLetter(props.category),\" Top Headlines\"]}),loading&&/*#__PURE__*/_jsx(Spinner,{}),!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 \",children:/*#__PURE__*/_jsx(NewsComponent,{title:element.title?element.title:\"\",description:element.description?element.description:\"\",imageUrl:element.urlToImage,newsUrl:element.url,author:element.author,date:element.publishedAt,source:element.source.name})},element.url);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-grid gap-2 d-md-flex justify-content-md-end\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:page<=1,className:\"btn btn-sm me-md-2 text-white\",onClick:previousClick,type:\"button\",style:{background:\"rgb(2,0,36)\",boxShadow:\"5px 5px 10px rgb(16,0,57)\"},children:\"\\u2190 previous\"}),/*#__PURE__*/_jsx(\"button\",{disabled:page+1>Math.ceil(totalResults/props.size),className:\"btn btn-sm text-white \",onClick:nextClick,type:\"button\",style:{background:\"rgb(2,0,36)\",boxShadow:\"5px 5px 10px rgb(16,0,57)\"},children:\"next \\u2192\"})]})]});};News.defaultProps={country:'in',size:8,category:'general'};export default News;","map":{"version":3,"names":["React","useEffect","useState","Spinner","NewsComponent","News","props","capitalizeFirstLetter","string","charAt","toUpperCase","slice","articles","setArticles","page","setPage","totalResults","setTotalResults","loading","setLoading","updateNews","setProgress","url","country","category","size","fetch","data","json","parsedData","document","title","previousClick","nextClick","Math","ceil","color","textShadow","map","element","description","urlToImage","author","publishedAt","source","name","background","boxShadow","defaultProps"],"sources":["C:/squareboat/SquareNews/square-news/src/myComponent/News.js"],"sourcesContent":["import React ,{useEffect,useState}from 'react'\r\nimport Spinner from './Spin'\r\nimport NewsComponent from './NewsComponent'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nconst News= (props)=> {\r\n  const capitalizeFirstLetter = (string) => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n} \r\n  const[articles,setArticles]=useState([])\r\n\r\n  const[page,setPage]=useState(1)\r\n  const[totalResults,setTotalResults]=useState(0)\r\n  const[loading,setLoading]= useState(false)\r\n    \r\n  const updateNews=async()=>\r\n    {\r\n      props.setProgress(10);\r\n       const url=`https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=0516ff4fe6e44803b32e7e321ccfd96f&page=1&pageSize=${props.size}`;\r\n       setLoading(true)\r\n       props.setProgress(30);\r\n       let data =await fetch(url);\r\n       setLoading(false)\r\n       let parsedData= await data.json()\r\n       props.setProgress(70);\r\n       setArticles(parsedData.articles)\r\n       setTotalResults(parsedData.totalResults)\r\n       props.setProgress(100);\r\n\r\n    }\r\n    useEffect(()=>{  document.title = `${capitalizeFirstLetter(props.category)} - Square News`;\r\n    updateNews();\r\n    // eslint-disable-next-line\r\n  },[])\r\n   const previousClick= async()=>{\r\n       let url=`https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=0516ff4fe6e44803b32e7e321ccfd96f&page=${page+1}&pageSize=${props.size}`;\r\n       setLoading(true)\r\n       let data =await fetch(url);\r\n       setLoading(false)\r\n       let parsedData= await data.json()\r\n       setArticles(parsedData.articles)\r\n       setPage(page-1)\r\n      \r\n\r\n    }\r\n   const nextClick= async()=>{\r\n      if(! (page+1 > Math.ceil(totalResults/props.size)))\r\n      {\r\n       let url=`https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=0516ff4fe6e44803b32e7e321ccfd96f&page=${page+1}&pageSize=${props.size}`;\r\n       setLoading(true)\r\n       let data =await fetch(url);\r\n       setLoading(false)\r\n       let parsedData= await data.json()\r\n       \r\n       setArticles(parsedData.articles)\r\n       setPage(page+1)\r\n        \r\n        \r\n        }\r\n    }\r\n \r\n    return (\r\n      <div className='container my-2' >\r\n        <h2 className='text-center '  style={{color:\"rgb(16,13,57)\",textShadow:\"2px 2px 5px rgb(0,0,50)\"}}>{ props.category!==\"general\" && capitalizeFirstLetter(props.category)} Top Headlines</h2>\r\n           {loading && <Spinner/>}\r\n          {  !loading &&\r\n        <div className=\"row\">\r\n        {articles.map((element)=>{\r\n            \r\n          return <div className=\"col-md-6 \" key={element.url}  >\r\n           <NewsComponent  title={element.title?element.title:\"\"} description={element.description?element.description:\"\"} imageUrl={element.urlToImage} newsUrl={element.url}author={element.author} date={element.publishedAt} source={element.source.name} />\r\n                </div> \r\n        })}\r\n          \r\n        </div>\r\n          }\r\n            <div className=\"d-grid gap-2 d-md-flex justify-content-md-end\">\r\n            <button disabled={page<=1} className=\"btn btn-sm me-md-2 text-white\" onClick={previousClick} type=\"button\" style={{background:\"rgb(2,0,36)\",boxShadow:\"5px 5px 10px rgb(16,0,57)\"}}>&larr; previous</button>\r\n            <button disabled={page+1 > Math.ceil(totalResults/props.size)} className=\"btn btn-sm text-white \" onClick={nextClick} type=\"button\" style={{background:\"rgb(2,0,36)\",boxShadow:\"5px 5px 10px rgb(16,0,57)\"}}>next &rarr;</button>\r\n       </div>\r\n      \r\n      </div>\r\n    )\r\n  }\r\n\r\n  News.defaultProps = {\r\n    country: 'in',\r\n    size: 8,\r\n    category: 'general',\r\n}\r\n\r\nNews.propTypes = {\r\n    country: PropTypes.string,\r\n    size: PropTypes.number,\r\n    category: PropTypes.string,\r\n}\r\n\r\nexport default News\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}